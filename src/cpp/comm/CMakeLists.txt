SET(NIF_COMPILE_FLAGS)
SET(NIF_LINK_FLAGS)

IF(APPLE)
  INCLUDE_DIRECTORIES(/System/Library/Frameworks/IOKit.framework/Headers/)
  BUILD_NIFALCON_LIB(${LIBNIFALCON_CPP_COMM_PREFIX}_iokit "${BUILD_TYPES}" "FalconCommIOKit.cpp" "" FALSE)
ENDIF(APPLE)

IF(LIBUSB_1_FOUND)
  SET(DEBUG_DEFINES FALSE)
  IF(LIBUSB_DEBUG)
	SET(DEBUG_DEFINES "-DLIBUSB_DEBUG")
  ENDIF(LIBUSB_DEBUG)
  BUILD_NIFALCON_LIB(${LIBNIFALCON_CPP_COMM_PREFIX}_libusb "${BUILD_TYPES}" "FalconCommLibUSB.cpp" "${LIBUSB_1_LIBRARIES}" ${DEBUG_DEFINES})
ENDIF(LIBUSB_1_FOUND)

IF(LIBFTDI_FOUND)
  SET(DEBUG_DEFINES FALSE)
  IF(LIBUSB_DEBUG)
	SET(DEBUG_DEFINES "-DLIBUSB_DEBUG")
  ENDIF(LIBUSB_DEBUG)
  BUILD_NIFALCON_LIB(${LIBNIFALCON_CPP_COMM_PREFIX}_libftdi "${BUILD_TYPES}" "FalconCommLibFTDI.cpp" "${LIBFTDI_LIBRARIES}" ${DEBUG_DEFINES})
ENDIF(LIBFTDI_FOUND)

IF(LIBFTD2XX_FOUND)
  BUILD_NIFALCON_LIB(${LIBNIFALCON_CPP_COMM_PREFIX}_ftd2xx "${BUILD_TYPES}" "FalconCommFTD2XX.cpp" "${LIBFTD2XX_LIBRARIES}" FALSE)
ENDIF(LIBFTD2XX_FOUND)
